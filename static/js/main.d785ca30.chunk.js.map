{"version":3,"sources":["test.jsx","App.jsx","index.js"],"names":["L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","bounds","test","state","adminMode","_editableFG","onClickAdminButton","_this","console","log","_onEdited","e","numEdited","layers","eachLayer","layer","concat","_onChange","_onCreated","type","layerType","_onDeleted","numDeleted","_onMounted","drawControl","_onEditStart","_onEditStop","_onDeleteStart","_onDeleteStop","_onFeatureGroupReady","reactFGref","leafletGeoJSON","GeoJSON","getGeoJson","leafletFG","leafletElement","addLayer","onChange","props","toGeoJSON","_this2","this","react_default","a","createElement","onClick","Map","crs","CRS","Simple","center","zoom","ImageOverlay","url","FeatureGroup","ref","esm","position","onEdited","onCreated","onDeleted","onMounted","onEditStart","onEditStop","onDeleteStart","onDeleteStop","draw","rectangle","Popup","Component","features","properties","geometry","coordinates","App","src_test","rootElement","document","getElementById","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.d785ca30.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Map,\r\n  TileLayer,\r\n  Circle,\r\n  FeatureGroup,\r\n  ImageOverlay,\r\n  Popup\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport { EditControl } from \"react-leaflet-draw\";\r\n\r\n// work around broken icons when using webpack, see https://github.com/PaulLeCam/react-leaflet/issues/255\r\n\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl:\r\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/images/marker-icon.png\",\r\n  iconUrl:\r\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/images/marker-icon.png\",\r\n  shadowUrl:\r\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/images/marker-shadow.png\"\r\n});\r\n\r\nconst bounds = [\r\n  [0, 0],\r\n  [285, 400]\r\n];\r\n\r\nclass test extends Component {\r\n  // see http://leaflet.github.io/Leaflet.draw/docs/leaflet-draw-latest.html#l-draw-event for leaflet-draw events doc\r\n\r\n  state = {\r\n    adminMode: true\r\n  };\r\n\r\n  _editableFG = null;\r\n\r\n  onClickAdminButton = () => {\r\n    this.state.adminMode = !this.state.adminMode;\r\n    console.log(this.state.adminMode);\r\n  };\r\n\r\n  _onEdited = (e) => {\r\n    let numEdited = 0;\r\n    e.layers.eachLayer((layer) => {\r\n      numEdited += 1;\r\n    });\r\n    console.log(`_onEdited: edited ${numEdited} layers`, e);\r\n\r\n    this._onChange();\r\n  };\r\n\r\n  _onCreated = (e) => {\r\n    let type = e.layerType;\r\n    let layer = e.layer;\r\n    if (type === \"marker\") {\r\n      // Do marker specific actions\r\n      console.log(\"_onCreated: marker created\", e);\r\n    } else {\r\n      console.log(\"_onCreated: something else created:\", type, e);\r\n    }\r\n    // Do whatever else you need to. (save to db; etc)\r\n\r\n    this._onChange();\r\n    console.log(\"EFG\");\r\n    console.log(this._editableFG);\r\n  };\r\n\r\n  _onDeleted = (e) => {\r\n    let numDeleted = 0;\r\n    e.layers.eachLayer((layer) => {\r\n      numDeleted += 1;\r\n    });\r\n    console.log(`onDeleted: removed ${numDeleted} layers`, e);\r\n\r\n    this._onChange();\r\n  };\r\n\r\n  _onMounted = (drawControl) => {\r\n    console.log(\"_onMounted\", drawControl);\r\n  };\r\n\r\n  _onEditStart = (e) => {\r\n    console.log(\"_onEditStart\", e);\r\n  };\r\n\r\n  _onEditStop = (e) => {\r\n    console.log(\"_onEditStop\", e);\r\n  };\r\n\r\n  _onDeleteStart = (e) => {\r\n    console.log(\"_onDeleteStart\", e);\r\n  };\r\n\r\n  _onDeleteStop = (e) => {\r\n    console.log(\"_onDeleteStop\", e);\r\n  };\r\n\r\n  _onFeatureGroupReady = (reactFGref) => {\r\n    // populate the leaflet FeatureGroup with the geoJson layers\r\n\r\n    let leafletGeoJSON = new L.GeoJSON(getGeoJson());\r\n    let leafletFG = reactFGref.leafletElement;\r\n\r\n    leafletGeoJSON.eachLayer((layer) => {\r\n      console.log(layer);\r\n      leafletFG.addLayer(layer);\r\n    });\r\n\r\n    // store the ref for future access to content\r\n\r\n    this._editableFG = reactFGref;\r\n  };\r\n\r\n  _onChange = () => {\r\n    // this._editableFG contains the edited geometry, which can be manipulated through the leaflet API\r\n\r\n    const { onChange } = this.props;\r\n\r\n    if (!this._editableFG || !onChange) {\r\n      return;\r\n    }\r\n\r\n    const geojsonData = this._editableFG.leafletElement.toGeoJSON();\r\n    onChange(geojsonData);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button onClick={this.onClickAdminButton}>admin mode</button>\r\n        <Map crs={L.CRS.Simple} center={[156.45, 194.49]} zoom={0.7}>\r\n          <ImageOverlay\r\n            bounds={bounds}\r\n            url=\"https://external-preview.redd.it/w9BVe9tGxELJs1GvR-50pCzPFlmeRj5h6ma8tN93SB0.jpg?auto=webp&s=c272d3687d831f334a1c7e32d9a7431b3d22040f\"\r\n          />\r\n\r\n          <FeatureGroup\r\n            ref={(reactFGref) => {\r\n              this._onFeatureGroupReady(reactFGref);\r\n            }}\r\n          >\r\n            {this.state.adminMode ? (\r\n              <EditControl\r\n                position=\"topright\"\r\n                onEdited={this._onEdited}\r\n                onCreated={this._onCreated}\r\n                onDeleted={this._onDeleted}\r\n                onMounted={this._onMounted}\r\n                onEditStart={this._onEditStart}\r\n                onEditStop={this._onEditStop}\r\n                onDeleteStart={this._onDeleteStart}\r\n                onDeleteStop={this._onDeleteStop}\r\n                draw={{\r\n                  rectangle: false\r\n                }}\r\n              />\r\n            ) : null}\r\n            <Popup>An Image Description</Popup>\r\n          </FeatureGroup>\r\n        </Map>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default test;\r\n\r\nconst getGeoJson = () => {\r\n  return {\r\n    type: \"FeatureCollection\",\r\n    features: [\r\n      {\r\n        type: \"Feature\",\r\n        properties: {},\r\n        geometry: {\r\n          type: \"LineString\",\r\n          coordinates: [\r\n            [82.69, 205.25],\r\n            [212.88, 54.8]\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        type: \"Feature\",\r\n        properties: {},\r\n        geometry: {\r\n          type: \"Point\",\r\n          coordinates: [82.69, 205.25]\r\n        }\r\n      },\r\n\r\n      {\r\n        type: \"Feature\",\r\n        properties: {},\r\n        geometry: {\r\n          type: \"Point\",\r\n          coordinates: [212.88, 54.8]\r\n        }\r\n      },\r\n      {\r\n        type: \"Feature\",\r\n        properties: {},\r\n        geometry: {\r\n          type: \"Polygon\",\r\n          coordinates: [\r\n            [\r\n              [130.68, 167.36],\r\n              [142.64, 168.07],\r\n              [141.16, 180.65],\r\n              [135.76, 187.37],\r\n              [131.07, 176.74]\r\n            ]\r\n          ]\r\n        }\r\n      }\r\n    ]\r\n  };\r\n};\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport \"./App.css\";\r\n\r\nimport { Map, TileLayer } from \"react-leaflet\";\r\nimport Test from \"./test\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <h1>React Leaflet Map of Poland</h1>\r\n      <Test />\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./styles.css\";\r\nimport \"react-leaflet-fullscreen/dist/styles.css\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}